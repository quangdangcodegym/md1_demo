<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text" id="idText">
    <button onclick="addProduct()">Add</button>
    
    <button onclick="showProducts4()">Show Product</button> <br>

    <div id="idProducts">
        
    </div>
</body>
<script>

/* <label>Sony</label> <br>
    <label>Samsung</label> <br>
    <label>Nokia</label> <br>
    <label>Xiaomi</label> <br> */


    let products = ['Sony', 'Samsung', 'Nokia', 'Xiaomi', 'Iphone 6'];

    products.push("Iphone 7 plus");
    products.push("Iphone 8 plus");
    products.push("Iphone X");

    showProducts4();
    
    function addProduct(){
        /* let elementInput = document.getElementById("idText");
        let valueText = elementInput.value; */

        let valueText = document.getElementById("idText").value;
        products.unshift(valueText);

        showProducts2();
    }
    function saveProduct(index){
        let elementInput = document.getElementById("idText");
        let strValue = elementInput.value;

        products[index] = strValue;
        showProducts4();

    }
    function deleteProduct(index1){
        products.splice(index1, 1);
        showProducts4();
    }

    function showProducts(){
        let str ="";
        for(let i=0;i<products.length;i++){
            str += "<label>";
            str+= products[i];
            str += "</label> <br>";
        }
        let elementProducts = document.getElementById("idProducts");
        elementProducts.innerHTML = str;

    }
    function showProducts1(){
        //map(callbackfn: (value: string, index: number, array: string[]) => any, thisArg?: any): any[]
        // callbackfn: (value: string, index: number, array: string[]) => any, thisArg?: any

        // products.map tra ve mot mang productsMap
        let productsMap  = products.map(
                function(value, index){
                    return `<label>${value}</label> <br>`
                }

        );
        console.log(products);
        console.log(productsMap);

        let str = productsMap.join("");

        let elementProducts = document.getElementById("idProducts");
        elementProducts.innerHTML = str;
    }
    function showProducts2(){
        let productsMap = products.map(
            function(value, index){
                
                return `<tr><td>${value}</td></tr>`;
            }
        );
        console.log(products);
        console.log(productsMap);

        let str = "<table border = '1'>" + productsMap.join("") + "</table>";
        let elementProducts = document.getElementById("idProducts");
        elementProducts.innerHTML = str;
    }
    function showProducts3(){
        let productsMap = products.map(
            function(value, index){
                
                return `<tr><td>${value}</td><td><button onclick='editProduct(${index})'>Edit</button></td>
                    <td><button onclick='saveProduct(${index})'>Save</button></td>
                    </tr>`;
            }
        );
        console.log(products);
        console.log(productsMap);

        let str = "<table border = '1'>" + productsMap.join("") + "</table>";
        let elementProducts = document.getElementById("idProducts");
        elementProducts.innerHTML = str;
    }

    function showProducts4(){
        let productsMap = products.map(
            function(value, index){
                
                return `<tr><td>${value}</td><td><button onclick='editProduct(${index})'>Edit</button></td>
                    <td><button onclick='saveProduct(${index})'>Save</button></td>
                    <td><button onclick='deleteProduct(${index})'>Delete</button></td>
                    </tr>`;
            }
        );
        console.log(products);
        console.log(productsMap);

        let str = "<table border = '1'>" + productsMap.join("") + "</table>";
        let elementProducts = document.getElementById("idProducts");
        elementProducts.innerHTML = str;
    }
    
    
    function editProduct(vitri){
        let elementInput = document.getElementById("idText");

        elementInput.value = products[vitri];

    }

</script>
</html>